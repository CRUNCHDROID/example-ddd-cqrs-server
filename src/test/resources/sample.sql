SET DB_CLOSE_DELAY -1;         
;              
CREATE USER IF NOT EXISTS SA SALT '156da56d219be548' HASH '502c79fad489d809b3a5fb71dd92c92ae803ec359bfdadc3dc74983fca227ba7' ADMIN;            
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_309235C0_29B5_45D9_8DF8_EFA82BBE245F START WITH 1 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_2D04285B_C0F2_45FD_AB2F_84F596E49B76 START WITH 1 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_99DBA090_0E8D_48A3_B0FB_B8FB0EB1E64F START WITH 5 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_2C7660DF_4BF3_439C_89E6_8447074213ED START WITH 1 BELONGS_TO_TABLE;     
CREATE MEMORY TABLE PUBLIC.T_BACKLOG_ITEM(
    C_BACKLOG_ITEM_ID VARCHAR(255) NOT NULL,
    C_VERSION INTEGER,
    C_PRODUCT_ID VARCHAR(255) NOT NULL,
    C_ID VARCHAR(255),
    C_STORY VARCHAR(255) NOT NULL
);             
ALTER TABLE PUBLIC.T_BACKLOG_ITEM ADD CONSTRAINT PUBLIC.CONSTRAINT_7 PRIMARY KEY(C_BACKLOG_ITEM_ID);           
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.T_BACKLOG_ITEM;           
INSERT INTO PUBLIC.T_BACKLOG_ITEM(C_BACKLOG_ITEM_ID, C_VERSION, C_PRODUCT_ID, C_ID, C_STORY) VALUES('adfefe13-67ec-4bd1-a5b6-680ae0360feb', 0, 'd1a06697-0914-48b5-969c-52967f7c6f92', NULL, 'Write documentation');           
INSERT INTO PUBLIC.T_BACKLOG_ITEM(C_BACKLOG_ITEM_ID, C_VERSION, C_PRODUCT_ID, C_ID, C_STORY) VALUES('0cdc4b57-5624-4778-a1b6-c65a7fd01c0e', 0, 'd1a06697-0914-48b5-969c-52967f7c6f92', NULL, 'Add more unit tests');           
INSERT INTO PUBLIC.T_BACKLOG_ITEM(C_BACKLOG_ITEM_ID, C_VERSION, C_PRODUCT_ID, C_ID, C_STORY) VALUES('d81d9671-7a43-4cbe-8c10-30706574c7df', 0, '7c5276e2-afe6-4068-8be8-826eee89cf7e', NULL, 'Apply Twitter Bootstrap');       
INSERT INTO PUBLIC.T_BACKLOG_ITEM(C_BACKLOG_ITEM_ID, C_VERSION, C_PRODUCT_ID, C_ID, C_STORY) VALUES('1c49cd4b-4e56-409b-a679-df48113862fd', 0, '7c5276e2-afe6-4068-8be8-826eee89cf7e', NULL, 'Create Angular controllers');    
CREATE MEMORY TABLE PUBLIC.T_COMMITED_BACKLOG_ITEM(
    C_ENTITY_ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_2C7660DF_4BF3_439C_89E6_8447074213ED) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_2C7660DF_4BF3_439C_89E6_8447074213ED,
    C_BACKLOG_ITEM_ID VARCHAR(255) NOT NULL,
    C_SPRINT_ID VARCHAR(255) NOT NULL
);           
ALTER TABLE PUBLIC.T_COMMITED_BACKLOG_ITEM ADD CONSTRAINT PUBLIC.CONSTRAINT_9 PRIMARY KEY(C_ENTITY_ID);        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.T_COMMITED_BACKLOG_ITEM;  
CREATE MEMORY TABLE PUBLIC.T_PRODUCT(
    C_PRODUCT_ID VARCHAR(255) NOT NULL,
    C_VERSION INTEGER,
    C_NAME VARCHAR(255) NOT NULL
);       
ALTER TABLE PUBLIC.T_PRODUCT ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(C_PRODUCT_ID);     
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.T_PRODUCT;
INSERT INTO PUBLIC.T_PRODUCT(C_PRODUCT_ID, C_VERSION, C_NAME) VALUES('d1a06697-0914-48b5-969c-52967f7c6f92', 4, 'Example DDD/CQRS server');    
INSERT INTO PUBLIC.T_PRODUCT(C_PRODUCT_ID, C_VERSION, C_NAME) VALUES('7c5276e2-afe6-4068-8be8-826eee89cf7e', 4, 'Example DDD/CQRS client');    
INSERT INTO PUBLIC.T_PRODUCT(C_PRODUCT_ID, C_VERSION, C_NAME) VALUES('6bd24930-e051-47d8-87d0-0df9391cfaa7', 0, 'Product with no backlog items');              
CREATE MEMORY TABLE PUBLIC.T_PRODUCT_BACKLOG_ITEM(
    C_ENTITY_ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_99DBA090_0E8D_48A3_B0FB_B8FB0EB1E64F) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_99DBA090_0E8D_48A3_B0FB_B8FB0EB1E64F,
    C_BACKLOG_ITEM_ID VARCHAR(255) NOT NULL,
    C_POSITION INTEGER NOT NULL,
    C_PRODUCT_ID VARCHAR(255) NOT NULL
);          
ALTER TABLE PUBLIC.T_PRODUCT_BACKLOG_ITEM ADD CONSTRAINT PUBLIC.CONSTRAINT_4B PRIMARY KEY(C_ENTITY_ID);        
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.T_PRODUCT_BACKLOG_ITEM;   
INSERT INTO PUBLIC.T_PRODUCT_BACKLOG_ITEM(C_ENTITY_ID, C_BACKLOG_ITEM_ID, C_POSITION, C_PRODUCT_ID) VALUES(1, 'adfefe13-67ec-4bd1-a5b6-680ae0360feb', 0, 'd1a06697-0914-48b5-969c-52967f7c6f92');              
INSERT INTO PUBLIC.T_PRODUCT_BACKLOG_ITEM(C_ENTITY_ID, C_BACKLOG_ITEM_ID, C_POSITION, C_PRODUCT_ID) VALUES(2, '0cdc4b57-5624-4778-a1b6-c65a7fd01c0e', 1, 'd1a06697-0914-48b5-969c-52967f7c6f92');              
INSERT INTO PUBLIC.T_PRODUCT_BACKLOG_ITEM(C_ENTITY_ID, C_BACKLOG_ITEM_ID, C_POSITION, C_PRODUCT_ID) VALUES(3, 'd81d9671-7a43-4cbe-8c10-30706574c7df', 0, '7c5276e2-afe6-4068-8be8-826eee89cf7e');              
INSERT INTO PUBLIC.T_PRODUCT_BACKLOG_ITEM(C_ENTITY_ID, C_BACKLOG_ITEM_ID, C_POSITION, C_PRODUCT_ID) VALUES(4, '1c49cd4b-4e56-409b-a679-df48113862fd', 1, '7c5276e2-afe6-4068-8be8-826eee89cf7e');              
CREATE MEMORY TABLE PUBLIC.T_RELEASE(
    C_RELEASE_ID VARCHAR(255) NOT NULL,
    C_VERSION INTEGER,
    C_NAME VARCHAR(255) NOT NULL,
    C_PRODUCT_ID VARCHAR(255) NOT NULL,
    C_RELEASE_DATE TIMESTAMP NOT NULL
);        
ALTER TABLE PUBLIC.T_RELEASE ADD CONSTRAINT PUBLIC.CONSTRAINT_9E PRIMARY KEY(C_RELEASE_ID);    
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.T_RELEASE;
INSERT INTO PUBLIC.T_RELEASE(C_RELEASE_ID, C_VERSION, C_NAME, C_PRODUCT_ID, C_RELEASE_DATE) VALUES('c1c1bf0e-b397-4dfb-9d1d-3e7a5f207219', 0, 'Release 1', 'd1a06697-0914-48b5-969c-52967f7c6f92', TIMESTAMP '2011-01-14 00:00:00.0');         
INSERT INTO PUBLIC.T_RELEASE(C_RELEASE_ID, C_VERSION, C_NAME, C_PRODUCT_ID, C_RELEASE_DATE) VALUES('f85dcccf-2eb0-4ba5-9615-ff45701089bb', 0, 'Release 2', 'd1a06697-0914-48b5-969c-52967f7c6f92', TIMESTAMP '2011-01-29 00:00:00.0');         
CREATE MEMORY TABLE PUBLIC.T_REMAINING_AMENDMENT(
    C_ENTITY_ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_309235C0_29B5_45D9_8DF8_EFA82BBE245F) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_309235C0_29B5_45D9_8DF8_EFA82BBE245F,
    C_EFFECTIVE_DATE TIMESTAMP NOT NULL,
    C_HOURS_REMAINING INTEGER NOT NULL,
    C_TASK_ID VARCHAR(255) NOT NULL,
    C_REMAINING_AMENDMENTS_ORDER INTEGER
); 
ALTER TABLE PUBLIC.T_REMAINING_AMENDMENT ADD CONSTRAINT PUBLIC.CONSTRAINT_E PRIMARY KEY(C_ENTITY_ID);          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.T_REMAINING_AMENDMENT;    
CREATE MEMORY TABLE PUBLIC.T_SCHEDULED_BACKLOG_ITEM(
    C_ENTITY_ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_2D04285B_C0F2_45FD_AB2F_84F596E49B76) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_2D04285B_C0F2_45FD_AB2F_84F596E49B76,
    C_BACKLOG_ITEM_ID VARCHAR(255) NOT NULL,
    C_RELEASE_ID VARCHAR(255) NOT NULL
);         
ALTER TABLE PUBLIC.T_SCHEDULED_BACKLOG_ITEM ADD CONSTRAINT PUBLIC.CONSTRAINT_3 PRIMARY KEY(C_ENTITY_ID);       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.T_SCHEDULED_BACKLOG_ITEM; 
CREATE MEMORY TABLE PUBLIC.T_SPRINT(
    C_SPRINT_ID VARCHAR(255) NOT NULL,
    C_VERSION INTEGER,
    C_BEGIN_DATE TIMESTAMP NOT NULL,
    C_END_DATE TIMESTAMP NOT NULL,
    C_NAME VARCHAR(255) NOT NULL,
    C_PRODUCT_ID VARCHAR(255) NOT NULL
);         
ALTER TABLE PUBLIC.T_SPRINT ADD CONSTRAINT PUBLIC.CONSTRAINT_49 PRIMARY KEY(C_SPRINT_ID);      
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.T_SPRINT; 
INSERT INTO PUBLIC.T_SPRINT(C_SPRINT_ID, C_VERSION, C_BEGIN_DATE, C_END_DATE, C_NAME, C_PRODUCT_ID) VALUES('d4345cdc-12d3-4c94-a86b-dba2b0878d43', 0, TIMESTAMP '2011-01-01 00:00:00.0', TIMESTAMP '2011-01-14 00:00:00.0', 'Sprint 1', 'd1a06697-0914-48b5-969c-52967f7c6f92');               
INSERT INTO PUBLIC.T_SPRINT(C_SPRINT_ID, C_VERSION, C_BEGIN_DATE, C_END_DATE, C_NAME, C_PRODUCT_ID) VALUES('1ba00f5c-3c21-4c35-92ae-24de16f79f87', 0, TIMESTAMP '2011-01-15 00:00:00.0', TIMESTAMP '2011-01-29 00:00:00.0', 'Sprint 2', 'd1a06697-0914-48b5-969c-52967f7c6f92');               
CREATE MEMORY TABLE PUBLIC.T_TASK(
    C_TASK_ID VARCHAR(255) NOT NULL,
    C_VERSION INTEGER,
    C_BACKLOG_ITEM_ID VARCHAR(255) NOT NULL,
    C_HOURS_REMAINING INTEGER NOT NULL,
    C_NAME VARCHAR(255) NOT NULL,
    C_STATUS VARCHAR(255)
);             
ALTER TABLE PUBLIC.T_TASK ADD CONSTRAINT PUBLIC.CONSTRAINT_94 PRIMARY KEY(C_TASK_ID);          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.T_TASK;   
ALTER TABLE PUBLIC.T_PRODUCT ADD CONSTRAINT PUBLIC.UK_517KAENCTU69XIS4BIAT5V1IE UNIQUE(C_NAME);
ALTER TABLE PUBLIC.T_REMAINING_AMENDMENT ADD CONSTRAINT PUBLIC.FK_4AQNANQB934G8924UEF9R2W38 FOREIGN KEY(C_TASK_ID) REFERENCES PUBLIC.T_TASK(C_TASK_ID) NOCHECK;
ALTER TABLE PUBLIC.T_SCHEDULED_BACKLOG_ITEM ADD CONSTRAINT PUBLIC.FK_L651SROAE12LC4T3NUUL146PO FOREIGN KEY(C_RELEASE_ID) REFERENCES PUBLIC.T_RELEASE(C_RELEASE_ID) NOCHECK;    
ALTER TABLE PUBLIC.T_COMMITED_BACKLOG_ITEM ADD CONSTRAINT PUBLIC.FK_PP7D9JORD0YVLO9Q2OKJB7F3F FOREIGN KEY(C_SPRINT_ID) REFERENCES PUBLIC.T_SPRINT(C_SPRINT_ID) NOCHECK;        
ALTER TABLE PUBLIC.T_PRODUCT_BACKLOG_ITEM ADD CONSTRAINT PUBLIC.FK_AMF2TH7I5ENG88VUBPJ2DBIKM FOREIGN KEY(C_PRODUCT_ID) REFERENCES PUBLIC.T_PRODUCT(C_PRODUCT_ID) NOCHECK;      
